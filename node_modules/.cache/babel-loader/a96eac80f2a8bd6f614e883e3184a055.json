{"remainingRequest":"C:\\Users\\Kyle\\creation\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Kyle\\creation\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Kyle\\creation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Kyle\\creation\\src\\components\\Order.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Kyle\\creation\\src\\components\\Order.vue","mtime":1580771934967},{"path":"C:\\Users\\Kyle\\creation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Kyle\\creation\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Kyle\\creation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Kyle\\creation\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IExhYmVsIGZyb20gIkAvY29tcG9uZW50cy9MYWJlbC52dWUiOwppbXBvcnQgaHR0cCBmcm9tICJodHRwIjsKaW1wb3J0IHsgY29tcHJlc3MsIGRlY29tcHJlc3MgfSBmcm9tICdsei1zdHJpbmcnOwp2YXIgc2VjcmV0ID0gIlptTTROVFJqTm1abU5UVTFORGcwWmpnM01tRTNOakE1TkRFNFpURXlZVFU2TnpWa01USTFaV0pqTmpSbU5EUXpaR0UwTm1NMk5EQmxOV1l6TUdVNFlqVT0iOwp2YXIgb3B0aW9ucyA9IHsKICBob3N0bmFtZTogInNzYXBpLnNoaXBzdGF0aW9uLmNvbSIsCiAgaGVhZGVyczogewogICAgQXV0aG9yaXphdGlvbjogIkJhc2ljICIgKyBzZWNyZXQsCiAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iCiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk9yZGVyIiwKICBwcm9wczogewogICAgbXNnOiBTdHJpbmcsCiAgICBuYW1lOiBTdHJpbmcsCiAgICBpdGVtczogQXJyYXksCiAgICBvcmRlck51bWJlcjogU3RyaW5nLAogICAgb3JkZXJPYmplY3Q6IE9iamVjdCwKICAgIGNvbXBhbnk6IFN0cmluZwogIH0sCiAgY29tcG9uZW50czogewogICAgTGFiZWw6IExhYmVsCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWQ1c3VtOiAiIiwKICAgICAgaGlkZGVuOiBmYWxzZSwKICAgICAgcHJpbnRlZExhYmVsczogIiIsCiAgICAgIHdlaWdodDogMAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZFRvV2VpZ2h0OiBmdW5jdGlvbiBhZGRUb1dlaWdodChza3UpIHsKICAgICAgc2t1ID0gJyInICsgc2t1ICsgJyInOwogICAgICBpZiAodGhpcy4kaW52ZW50b3J5W3NrdV0pIGNvbnNvbGUubG9nKHRoaXMuJGludmVudG9yeVtza3VdWyJXZWlnaHQiXSk7CiAgICB9LAogICAgZ2V0UHJpbnRlZExhYmVsc0Zyb21TaGlwc3RhdGlvbjogZnVuY3Rpb24gZ2V0UHJpbnRlZExhYmVsc0Zyb21TaGlwc3RhdGlvbigpIHsKICAgICAgdGhpcy5wcmludGVkTGFiZWxzID0gdGhpcy52ZXJpZnlUaGVuRGVjcnlwdCh0aGlzLm9yZGVyT2JqZWN0LmFkdmFuY2VkT3B0aW9ucy5jdXN0b21GaWVsZDEpOwogICAgICByZXR1cm4gdGhpcy5wcmludGVkTGFiZWxzOwogICAgfSwKICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoKSB7CiAgICAgIHRoaXMuaGlkZGVuID0gdHJ1ZTsKICAgIH0sCiAgICBlbmNyeXB0VGhlbkF1dGhlbnRpY2F0ZTogZnVuY3Rpb24gZW5jcnlwdFRoZW5BdXRoZW50aWNhdGUocGxhaW5UZXh0KSB7CiAgICAgIHZhciBjb21wcmVzc2VkID0gY29tcHJlc3MocGxhaW5UZXh0KTsKICAgICAgcmV0dXJuIGNvbXByZXNzZWQ7CiAgICB9LAogICAgdmVyaWZ5VGhlbkRlY3J5cHQ6IGZ1bmN0aW9uIHZlcmlmeVRoZW5EZWNyeXB0KGVuY3J5cHRlZEFuZEF1dGhlbnRpY2F0ZWRUZXh0KSB7CiAgICAgIGlmIChlbmNyeXB0ZWRBbmRBdXRoZW50aWNhdGVkVGV4dCA9PT0gdW5kZWZpbmVkIHx8IGVuY3J5cHRlZEFuZEF1dGhlbnRpY2F0ZWRUZXh0ID09PSBudWxsKSByZXR1cm4gIiI7CiAgICAgIHJldHVybiBkZWNvbXByZXNzKGVuY3J5cHRlZEFuZEF1dGhlbnRpY2F0ZWRUZXh0KTsKICAgIH0sCiAgICB1cGRhdGVQcmludGVkTGFiZWxzOiBmdW5jdGlvbiB1cGRhdGVQcmludGVkTGFiZWxzKHByaW50ZWRMYWJlbHMpIHsKICAgICAgb3B0aW9ucy5wYXRoID0gIi9vcmRlcnMvY3JlYXRlb3JkZXIiOwogICAgICBvcHRpb25zLm1ldGhvZCA9ICJQT1NUIjsKICAgICAgdmFyIHJlcSA9IGh0dHAucmVxdWVzdChvcHRpb25zLCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5kZWJ1ZygiU1RBVFVTOiAiLmNvbmNhdChyZXMuc3RhdHVzQ29kZSkpOwogICAgICAgIGNvbnNvbGUuZGVidWcoIkhFQURFUlM6ICIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHJlcy5oZWFkZXJzKSkpOwogICAgICAgIHJlcy5zZXRFbmNvZGluZygidXRmOCIpOwogICAgICAgIHJlcy5vbigiZGF0YSIsIGZ1bmN0aW9uIChjaHVuaykgewogICAgICAgICAgY29uc29sZS5kZWJ1ZygiQk9EWTogIi5jb25jYXQoY2h1bmspKTsKICAgICAgICB9KTsKICAgICAgICByZXMub24oImVuZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbnNvbGUuZGVidWcoIk5vIG1vcmUgZGF0YSBpbiByZXNwb25zZS4iKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHJlcS5vbigiZXJyb3IiLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoInByb2JsZW0gd2l0aCByZXF1ZXN0OiAiLmNvbmNhdChlLm1lc3NhZ2UpKTsKICAgICAgfSk7CiAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5wcmludGVkTGFiZWxzID8gdGhpcy5wcmludGVkTGFiZWxzIDogIiI7CiAgICAgIGN1cnJlbnQgPSB0aGlzLmVuY3J5cHRUaGVuQXV0aGVudGljYXRlKHByaW50ZWRMYWJlbHMgKyBjdXJyZW50KTsKICAgICAgdGhpcy5vcmRlck9iamVjdC5hZHZhbmNlZE9wdGlvbnMuY3VzdG9tRmllbGQxID0gY3VycmVudDsKICAgICAgcmVxLndyaXRlKEpTT04uc3RyaW5naWZ5KHRoaXMub3JkZXJPYmplY3QpKTsKICAgICAgcmVxLmVuZCgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Order.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div v-show=\"!this.hidden\" class=\"wrapper\">\r\n    <div class=\"header\">\r\n      <div id=\"spacer\"></div>\r\n      <b>{{name + ((company && company!== null) ? ' - ' +company : '') + ' - #'+ orderNumber }}</b>\r\n    </div>\r\n    <Label\r\n      v-bind:key=\"name.toString()+item.name\"\r\n      v-for=\"(item, index) in items\"\r\n      :name=\"item.name\"\r\n      :orderNumber=\"name.toString()\"\r\n      :itemObject=\"item\"\r\n      :quantity=\"item.quantity\"\r\n      @hideOrder=\"hide\"\r\n      @updatePrintedLabels=\"updatePrintedLabels\"\r\n      @addToWeight=\"addToWeight\"\r\n      :last=\"index === items.length-1\"\r\n      :printedLabels=\"getPrintedLabelsFromShipstation()\"\r\n    ></Label>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Label from \"@/components/Label.vue\";\r\n\r\nimport http from \"http\";\r\nimport { compress, decompress } from 'lz-string' \r\n\r\n\r\n\r\n\r\n\r\nvar secret =\r\n  \"ZmM4NTRjNmZmNTU1NDg0Zjg3MmE3NjA5NDE4ZTEyYTU6NzVkMTI1ZWJjNjRmNDQzZGE0NmM2NDBlNWYzMGU4YjU=\";\r\n\r\nconst options = {\r\n  hostname: \"ssapi.shipstation.com\",\r\n  headers: {\r\n    Authorization: \"Basic \" + secret,\r\n    \"Content-Type\": \"application/json\"\r\n  }\r\n};\r\n\r\nexport default {\r\n  name: \"Order\",\r\n  props: {\r\n    msg: String,\r\n    name: String,\r\n    items: Array,\r\n    orderNumber: String,\r\n    orderObject: Object,\r\n    company: String,\r\n  },\r\n  components: {\r\n    Label\r\n  },\r\n  data() {\r\n    return {\r\n      md5sum: \"\",\r\n      hidden: false,\r\n      printedLabels: \"\",\r\n      weight: 0\r\n    };\r\n  },\r\n  methods: {\r\n    addToWeight: function(sku){\r\n      sku = '\"'+sku+'\"'\r\n      \r\n      if(this.$inventory[sku])\r\n      console.log(this.$inventory[sku][\"Weight\"])\r\n\r\n    },\r\n    getPrintedLabelsFromShipstation: function() {\r\n      \r\n      this.printedLabels = this.verifyThenDecrypt(\r\n        this.orderObject.advancedOptions.customField1\r\n      );\r\n      return this.printedLabels;\r\n    },\r\n\r\n    hide: function() {\r\n      this.hidden = true;\r\n    },\r\n    encryptThenAuthenticate: function(plainText) {\r\n\r\n      \r\n      var compressed = compress(plainText)\r\n\r\n      return compressed;\r\n    },\r\n    verifyThenDecrypt: function(encryptedAndAuthenticatedText) {\r\n      if (\r\n        encryptedAndAuthenticatedText === undefined ||\r\n        encryptedAndAuthenticatedText === null\r\n      )\r\n        return \"\";\r\n\r\n     return  decompress(encryptedAndAuthenticatedText)\r\n\r\n    },\r\n    updatePrintedLabels: function(printedLabels) {\r\n      options.path = \"/orders/createorder\";\r\n      options.method = \"POST\";\r\n      const req = http.request(options, res => {\r\n        console.debug(`STATUS: ${res.statusCode}`);\r\n        console.debug(`HEADERS: ${JSON.stringify(res.headers)}`);\r\n        res.setEncoding(\"utf8\");\r\n        res.on(\"data\", chunk => {\r\n          console.debug(`BODY: ${chunk}`);\r\n        });\r\n        res.on(\"end\", () => {\r\n          console.debug(\"No more data in response.\");\r\n\r\n         \r\n        });\r\n      });\r\n\r\n      req.on(\"error\", e => {\r\n        console.error(`problem with request: ${e.message}`);\r\n      });\r\n     \r\n      var current = this.printedLabels ? this.printedLabels : \"\";\r\n      current = this.encryptThenAuthenticate(printedLabels + current);\r\n      \r\n      this.orderObject.advancedOptions.customField1 = current;\r\n\r\n      req.write(JSON.stringify(this.orderObject));\r\n      req.end();\r\n    },\r\n    \r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n  text-transform: uppercase;\r\n\r\n  width: 95%;\r\n  padding: 6px 10px;\r\n\r\n  margin: 4px;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n  text-transform: uppercase;\r\n  padding: 2px;\r\n}\r\n\r\n#spacer {\r\n  width: 5px;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}