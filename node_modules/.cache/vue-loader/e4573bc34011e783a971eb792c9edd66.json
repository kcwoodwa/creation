{"remainingRequest":"C:\\Users\\Kyle\\creation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Kyle\\creation\\src\\components\\Label.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Kyle\\creation\\src\\components\\Label.vue","mtime":1580069497830},{"path":"C:\\Users\\Kyle\\creation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Kyle\\creation\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Kyle\\creation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Kyle\\creation\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovL2NvbnN0IExBQkVMU19QUklOVEVEX1RBR19JRCA9IDg5NjU1Ow0KY29uc3QgRVJST1JfUFJJTlRJTkdfVEFHX0lEID0gOTEwMzg7DQppbXBvcnQgc3Bhd24gZnJvbSAiY2hpbGRfcHJvY2VzcyI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5oaWRkZW4gPSB0cnVlOw0KDQogICAgdGhpcy5sYWJlbEZpbGVOYW1lOw0KICAgIGlmICh0aGlzLm5hbWUuaW5jbHVkZXMoIkdyaW5kOiIpKSB7DQogICAgICB0aGlzLmhpZGRlbiA9IGZhbHNlOw0KDQogICAgICAvL0V0aGlvcGlhIFlpcmdhY2hlZmZlIFNpemU6IDEyb3osIEdyaW5kOiBXaG9sZQ0KICAgICAgdGhpcy5jb2ZmZWUgPSB0aGlzLm5hbWUuc3BsaXQoIlNpemUiKVswXS50cmltKCk7DQogICAgICB0aGlzLnNpemUgPSB0aGlzLm5hbWUuaW5kZXhPZigiMTJveiIpICE9IC0xID8gIiAxMm96ICIgOiAiIjsNCiAgICAgIHRoaXMuc2l6ZSA9IHRoaXMubmFtZS5pbmRleE9mKCI1bGIiKSAhPSAtMSA/ICIgNWxiICIgOiB0aGlzLnNpemU7DQogICAgICB0aGlzLmdyaW5kID0gdGhpcy5uYW1lLnNwbGl0KCJHcmluZDoiKVsxXS50cmltKCk7DQogICAgfSBlbHNlIGlmICgNCiAgICAgIHRoaXMubmFtZS5pbmNsdWRlcygiR3JvdW5kIikgfHwNCiAgICAgIHRoaXMubmFtZS5pbmNsdWRlcygiV2hvbGUgQmVhbiIpDQogICAgKSB7DQogICAgICB0aGlzLmhpZGRlbiA9IGZhbHNlOw0KDQogICAgICAvL0V0aGlvcGlhIFlpcmdhY2hlZmZlIFNpemU6IDEyb3osIEdyaW5kOiBXaG9sZQ0KICAgICAgdGhpcy5jb2ZmZWUgPSB0aGlzLm5hbWUuc3BsaXQoIi0iKVswXS50cmltKCk7DQogICAgICB0aGlzLnNpemUgPSB0aGlzLm5hbWUuaW5jbHVkZXMoIjUgbGIiKSA/ICI1bGIiIDogIjEyb3oiOw0KICAgICAgdGhpcy5ncmluZCA9IHRoaXMubmFtZS5pbmNsdWRlcygiR3JvdW5kIikgPyAiR3JvdW5kIiA6ICJXaG9sZSI7DQogICAgfSBlbHNlIGlmICh0aGlzLm5hbWUuaW5jbHVkZXMoIlN1YnNjcmlwdGlvbiIpKSB7DQogICAgICB0aGlzLmhpZGRlbiA9IGZhbHNlOw0KICAgICAgY29uc29sZS5sb2codGhpcy5pdGVtT2JqZWN0KTsNCg0KICAgICAgdGhpcy5ncmluZCA9IHRoaXMuaXRlbU9iamVjdC5vcHRpb25zWzBdLnZhbHVlLmluY2x1ZGVzKCJZZXMiKQ0KICAgICAgICA/ICJHcm91bmQiDQogICAgICAgIDogIldob2xlIjsNCiAgICAgIHRoaXMuZ3JpbmRUeXBlID0NCiAgICAgICAgdGhpcy5ncmluZCA9PT0gIkdyb3VuZCINCiAgICAgICAgICA/IHRoaXMuaXRlbU9iamVjdC5vcHRpb25zWzBdLnZhbHVlLnNwbGl0KCLigJMiKVsxXQ0KICAgICAgICAgIDogIiI7DQogICAgICB0aGlzLmNvZmVlID0gdGhpcy5pdGVtT2JqZWN0Lm9wdGlvbnNbMV0udmFsdWU7DQogICAgICB0aGlzLnNpemUgPSAiMTJveiI7DQoNCiAgICAgIHRoaXMuY29tcHV0ZWROYW1lID0NCiAgICAgICAgIlN1YnNjcmlwdGlvbjogIiArDQogICAgICAgIHRoaXMuY29mZmVlICsNCiAgICAgICAgIiAtICIgKw0KICAgICAgICB0aGlzLmdyaW5kICsNCiAgICAgICAgIiAtICIgKw0KICAgICAgICB0aGlzLmdyaW5kVHlwZTsNCiAgICAgIC8vRXRoaW9waWEgWWlyZ2FjaGVmZmUgU2l6ZTogMTJveiwgR3JpbmQ6IFdob2xlDQogICAgICB0aGlzLmNvZmZlZSA9IHRoaXMubmFtZS5zcGxpdCgiLSIpWzBdLnRyaW0oKTsNCiAgICAgIHRoaXMuc2l6ZSA9IHRoaXMubmFtZS5pbmNsdWRlcygiNSBsYiIpID8gIjVsYiIgOiAiMTJveiI7DQogICAgICB0aGlzLmdyaW5kID0gdGhpcy5uYW1lLmluY2x1ZGVzKCJHcm91bmQiKSA/ICJHcm91bmQiIDogIldob2xlIjsNCiAgICB9DQogICAgaWYgKHRoaXMuaGlkZGVuID09PSBmYWxzZSkNCiAgICAgIHRoaXMubGFiZWxGaWxlTmFtZSA9IHRoaXMubmFtZSArIHRoaXMuc2l6ZSArIHRoaXMuZ3JpbmQ7DQogIH0sDQogIG5hbWU6ICJMYWJlbCIsDQogIHByb3BzOiB7DQogICAgbXNnOiBTdHJpbmcsDQogICAgbmFtZTogU3RyaW5nLA0KICAgIGl0ZW1PYmplY3Q6IE9iamVjdCwNCiAgICBvcmRlcklkOiBTdHJpbmcsDQogICAgcXVhbnRpdHk6IE51bWJlcg0KICB9LA0KICBkYXRhOiBmdW5jdGlvbigpIHsNCiAgICByZXR1cm4gew0KICAgICAgaGlkZGVuOiB0cnVlLA0KICAgICAgY29tcHV0ZWROYW1lOiB0aGlzLm5hbWUsDQogICAgICBsYWJlbEZpbGVOYW1lOiAiIiwNCiAgICAgIHNpemU6ICIiLA0KICAgICAgZ3JpbmQ6ICIiLA0KICAgICAgZ3JpbmRUeXBlOiAiIiwNCiAgICAgIGNvZmZlZTogIiINCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgcHJpbnQ6IGZ1bmN0aW9uKCkgew0KICAgICAgdmFyIHByaW50ZXJOYW1lID0NCiAgICAgIHRoaXMuc2l6ZSA9PT0gIiAxMm96ICIgPyAiUkVUQUlMIFBSSU5URVIiIDogIkJVTEsgUFJJTlRFUiI7DQogICAgICB2YXIgZHJpdmVyTmFtZSA9IHRoaXMuc2l6ZSA9PT0gIiAxMm96ICIgPyAiUkVUQUlMIERSSVZFciIgOiAiQlVMSyBEUklWRVIiOw0KICAgICAgdmFyIHBvcnQgPSB0aGlzLnNpemUgPT09ICIgMTJveiAiID8gIlJFVEFJTCBQT1JUIiA6ICJCVUxLIFBPUlQiOw0KDQogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucXVhbnRpdHk7IGkrKykgew0KICAgICAgICB2YXIgcHJpbnQgPSBzcGF3bigNCiAgICAgICAgICBgQWNyb1JkMzIuZXhlYCwNCiAgICAgICAgICBbIi9oIiwgIi90IiwgdGhpcy5sYWJlbEZpbGVOYW1lLCBwcmludGVyTmFtZSwgZHJpdmVyTmFtZSwgcG9ydF0sDQogICAgICAgICAgew0KICAgICAgICAgICAgY3dkOiBgQzpcXFByb2dyYW0gRmlsZXMgKHg4NilcXEFkb2JlXFxBY3JvYmF0IFJlYWRlciBEQ1xcUmVhZGVyYA0KICAgICAgICAgIH0NCiAgICAgICAgKTsNCg0KICAgICAgICBwcmludC5zdGRvdXQub24oImRhdGEiLCBkYXRhID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhgc3Rkb3V0OiAke2RhdGF9YCk7DQogICAgICAgIH0pOw0KDQogICAgICAgIHByaW50LnN0ZGVyci5vbigiZGF0YSIsIGRhdGEgPT4gew0KICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYHN0ZGVycjogJHtkYXRhfWApOw0KICAgICAgICAgIHRoaXMuYWRkVGFnKHRoaXMub3JkZXJJZCwgRVJST1JfUFJJTlRJTkdfVEFHX0lEKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgcHJpbnQub24oImNsb3NlIiwgY29kZSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coYGNoaWxkIHByb2Nlc3MgZXhpdGVkIHdpdGggY29kZSAke2NvZGV9YCk7DQogICAgICAgIH0pOw0KICAgICAgfQ0KDQogICAgICAvL2FkZFRhZyhvcmRlci5vcmRlcklkLCBMQUJFTFNfUFJJTlRFRF9UQUdfSUQpOw0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["Label.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Label.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"label\" v-if=\"!hidden\" v-on:click=\"print()\">\r\n    {{quantity}}\r\n    {{computedName}}\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n//const LABELS_PRINTED_TAG_ID = 89655;\r\nconst ERROR_PRINTING_TAG_ID = 91038;\r\nimport spawn from \"child_process\";\r\nexport default {\r\n  created() {\r\n    this.hidden = true;\r\n\r\n    this.labelFileName;\r\n    if (this.name.includes(\"Grind:\")) {\r\n      this.hidden = false;\r\n\r\n      //Ethiopia Yirgacheffe Size: 12oz, Grind: Whole\r\n      this.coffee = this.name.split(\"Size\")[0].trim();\r\n      this.size = this.name.indexOf(\"12oz\") != -1 ? \" 12oz \" : \"\";\r\n      this.size = this.name.indexOf(\"5lb\") != -1 ? \" 5lb \" : this.size;\r\n      this.grind = this.name.split(\"Grind:\")[1].trim();\r\n    } else if (\r\n      this.name.includes(\"Ground\") ||\r\n      this.name.includes(\"Whole Bean\")\r\n    ) {\r\n      this.hidden = false;\r\n\r\n      //Ethiopia Yirgacheffe Size: 12oz, Grind: Whole\r\n      this.coffee = this.name.split(\"-\")[0].trim();\r\n      this.size = this.name.includes(\"5 lb\") ? \"5lb\" : \"12oz\";\r\n      this.grind = this.name.includes(\"Ground\") ? \"Ground\" : \"Whole\";\r\n    } else if (this.name.includes(\"Subscription\")) {\r\n      this.hidden = false;\r\n      console.log(this.itemObject);\r\n\r\n      this.grind = this.itemObject.options[0].value.includes(\"Yes\")\r\n        ? \"Ground\"\r\n        : \"Whole\";\r\n      this.grindType =\r\n        this.grind === \"Ground\"\r\n          ? this.itemObject.options[0].value.split(\"â€“\")[1]\r\n          : \"\";\r\n      this.cofee = this.itemObject.options[1].value;\r\n      this.size = \"12oz\";\r\n\r\n      this.computedName =\r\n        \"Subscription: \" +\r\n        this.coffee +\r\n        \" - \" +\r\n        this.grind +\r\n        \" - \" +\r\n        this.grindType;\r\n      //Ethiopia Yirgacheffe Size: 12oz, Grind: Whole\r\n      this.coffee = this.name.split(\"-\")[0].trim();\r\n      this.size = this.name.includes(\"5 lb\") ? \"5lb\" : \"12oz\";\r\n      this.grind = this.name.includes(\"Ground\") ? \"Ground\" : \"Whole\";\r\n    }\r\n    if (this.hidden === false)\r\n      this.labelFileName = this.name + this.size + this.grind;\r\n  },\r\n  name: \"Label\",\r\n  props: {\r\n    msg: String,\r\n    name: String,\r\n    itemObject: Object,\r\n    orderId: String,\r\n    quantity: Number\r\n  },\r\n  data: function() {\r\n    return {\r\n      hidden: true,\r\n      computedName: this.name,\r\n      labelFileName: \"\",\r\n      size: \"\",\r\n      grind: \"\",\r\n      grindType: \"\",\r\n      coffee: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    print: function() {\r\n      var printerName =\r\n      this.size === \" 12oz \" ? \"RETAIL PRINTER\" : \"BULK PRINTER\";\r\n      var driverName = this.size === \" 12oz \" ? \"RETAIL DRIVEr\" : \"BULK DRIVER\";\r\n      var port = this.size === \" 12oz \" ? \"RETAIL PORT\" : \"BULK PORT\";\r\n\r\n      for (var i = 0; i < this.quantity; i++) {\r\n        var print = spawn(\r\n          `AcroRd32.exe`,\r\n          [\"/h\", \"/t\", this.labelFileName, printerName, driverName, port],\r\n          {\r\n            cwd: `C:\\\\Program Files (x86)\\\\Adobe\\\\Acrobat Reader DC\\\\Reader`\r\n          }\r\n        );\r\n\r\n        print.stdout.on(\"data\", data => {\r\n          console.log(`stdout: ${data}`);\r\n        });\r\n\r\n        print.stderr.on(\"data\", data => {\r\n          console.error(`stderr: ${data}`);\r\n          this.addTag(this.orderId, ERROR_PRINTING_TAG_ID);\r\n        });\r\n\r\n        print.on(\"close\", code => {\r\n          console.log(`child process exited with code ${code}`);\r\n        });\r\n      }\r\n\r\n      //addTag(order.orderId, LABELS_PRINTED_TAG_ID);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.label {\r\n  width: 100%;\r\n  text-align: left;\r\n  padding: 1px;\r\n  margin: 2px;\r\n  border: 1px inset black;\r\n}\r\n</style>"]}]}